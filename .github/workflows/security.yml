name: Security Checks

on:
  push:
    branches:
      - '**'
    paths:
      - '**/*.svg'
      - 'assets/**'
      - 'components/**'
      - 'prototypes/**'

jobs:
  security:
    runs-on: ubuntu-latest

    steps:
      # 1️ Checkout repository
      - name: Checkout repository
        uses: actions/checkout@v3

      # 2️ Check SVG files for unsafe content
      - name: Validate SVG files
        run: bash scripts/security/check-svg.sh

      # 3️ Check for unauthorized binary files
      - name: Check binary files
        run: bash scripts/security/check-binaries.sh

      # 4 Check for unauthorized executable files
      - name: Check executable files
        run: bash scripts/security/check-executables.sh

      # 5 Check for leaked secrets
      - name: Check secrets
        run: bash scripts/security/check-secrets.sh

      # 6 Check file size limits
      - name: Check file sizes
        run: bash scripts/lint/check-file-size.sh